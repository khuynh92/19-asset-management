<!DOCTYPE html>
<html>

<head>
  <title>Auth Test</title>
</head>

<body>
  <main>
    <div id="google"></div>
    <div id="linkedIn"></div>

    <h2>CREATE ACCOUNT</h2>
    <!-- <form action="http://localhost:3000/signup" method="POST"> -->
      <form action="https://khoa-19-asset-management.herokuapp.com/signup" method="POST">
      <label>
        Username:
        <input name="username">
      </label>
      <br />
      <label>
        Name:
        <input name="name">
      </label>
      <br />
      <label>
        Password:
        <input name="password" type="password" />
      </label>
      <br />
      <label>
        Email:
        <input name="email">
      </label>

      <input type="submit" value="Create User" />
    </form>
    <hr />
    <h2>Upload File</h2>
    <form action="https://khoa-19-asset-management.herokuapp.com/upload" method="post" enctype="multipart/form-data">
    <!-- <form action="http://localhost:3000/upload" method="post" enctype="multipart/form-data"> -->
      <label>
        Title
        <input name="title" />
      </label>
      <label>
        File
        <input name="img" type="file" />
      </label>
      <button type="submit">Upload File</button>
    </form>
  </main>
  <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
  <script>
    let googleURL = "https://accounts.google.com/o/oauth2/v2/auth"
    let googleOptions = {
      client_id: '123538572340-or8e9drlqqnlmkfupkcfh519d889dqo6.apps.googleusercontent.com',
      redirect_uri: 'https://khoa-19-asset-management.herokuapp.com/oauth/google/code',
      // redirect_uri: 'http://localhost:3000/oauth/google/code',
      scope: 'email openid profile',
      prompt: 'consent',
      response_type: 'code'
    }

    let queryString = Object.keys(googleOptions).map(key => {
      return `${key}=` + encodeURIComponent(googleOptions[key])
    }).join('&');

    let authGoogleURL = `${googleURL}?${queryString}`

    $('#google').append(`<a href="${authGoogleURL}">Login With Google</a>`)

  </script>
  <script>
  let linkedInURL = "https://www.linkedin.com/oauth/v2/authorization"
    let linkedInOptions = {
      client_id: '86v36mks0tlhmk',
      // redirect_uri: 'http://localhost:3000/oauth/linkedIn/code',
      redirect_uri: 'https://khoa-19-asset-management.herokuapp.com/oauth/linkedIn/code',
      scope: 'r_basicprofile r_emailaddress',
      response_type: 'code',
      state: 'LKKdlahjk123jhka23hk1dh12',
    }

    let linkedInqueryString = Object.keys(linkedInOptions).map(key => {
      return `${key}=` + encodeURIComponent(linkedInOptions[key])
    }).join('&');

    let authLinkedInURL = `${linkedInURL}?${linkedInqueryString}`

    $('#linkedIn').append(`<a href="${authLinkedInURL}">Login With LinkedIn</a>`)
  </script>
  </script>
</body>

</html>